---
description: Enables Multiplayer experiences
---

# Multiplayer

The `Multiplayer` static class acts as a gateway for managing multiplayer sessions in Terra Studio. It encapsulates access to the underlying MultiplayerSession and exposes a suite of properties, events, and methods for common multiplayer operations such as session management, property updates, remote procedure calls (RPCs), object spawning/destroying, and ownership handling. All operations are safely forwarded to the active session, if available. ​

### Prerequisites for activating multiplayer

#### Activate Multiplayer mode in Game Settings

You first need to make sure that the Multiplayer Mode is enabled in Game Settings and you have set the correct number of players required for your multiplayer game.&#x20;

<figure><img src="../.gitbook/assets/Screenshot 2025-04-01 at 3.56.12 PM.png" alt="" width="336"><figcaption><p>GameSettings has multiplayer enabled and Max Players set</p></figcaption></figure>

#### Add the Network Script to an empty object

Always create an empty object and any script containing the multiplayer script must be always added to that empty object only. Never add it to any other game-object with a mesh.

***

### Properties and Events in MultiplayerServices

| Type     | Name                   | Description                                                                                                                                                                                                                                                                                                                     |
| -------- | ---------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Property | **IsClient**           | Returns `true` if the current session is running as a client; otherwise, returns `false`.                                                                                                                                                                                                                                       |
| Property | **IsHost**             | Returns `true` if the current session is running as a host; otherwise, returns `false`.                                                                                                                                                                                                                                         |
| Property | **IsConnected**        | Returns `true` if the multiplayer session is currently connected; otherwise, returns `false`.                                                                                                                                                                                                                                   |
| Event    | **OnGameStarted**      | Triggered when the game has started. Internally, this subscribes to the session's `OnGameHasStarted` event.                                                                                                                                                                                                                     |
| Event    | **OnHostDisconnected** | Triggered when the host disconnects. Internally, this relays the session's `OnServerDisconnected` event.                                                                                                                                                                                                                        |
| Event    | **OnRpcReceived**      | Triggered globally when an RPC is received. All scripts subscribing to this event will be notified. **Note:** If multiple network objects (e.g., several instances of a ball with the same script) are present, each will receive the event. It is the responsibility of each object to determine whether the RPC affects it. ​ |
| Event    | **OnPropertyModified** | Triggered when a multiplayer property is modified. Provides the property name and its new value via an `Action<string, object>`.                                                                                                                                                                                                |

***

#### Methods in MultiplayerServices

| Type   | Name                | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| ------ | ------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Method | **StartSession**    | Begins the multiplayer session and accepts a callback (`Action<bool>`) to notify whether the session started successfully.                                                                                                                                                                                                                                                                                                                                             |
| Method | **LeaveRoom**       | Exits the current multiplayer room.                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| Method | **GetMyPlayer**     | Retrieves information about the current player, returning an `IReadonlyMemberInfo` for the calling client.                                                                                                                                                                                                                                                                                                                                                             |
| Method | **GetAllPlayers**   | Returns a list (`IReadOnlyList<IReadonlyMemberInfo>`) of all players currently in the session.                                                                                                                                                                                                                                                                                                                                                                         |
| Method | **UpdateProperty**  | Updates a multiplayer property identified by its name with the specified value.                                                                                                                                                                                                                                                                                                                                                                                        |
| Method | **GetProperty**     | Retrieves the value of a multiplayer property by name. Returns `default` if the session is not available.                                                                                                                                                                                                                                                                                                                                                              |
| Method | **SendRPC**         | Sends a remote procedure call to specified targets using a given key and arguments. Accepts a `SendTarget`, an optional list of client IDs, and variadic parameters.                                                                                                                                                                                                                                                                                                   |
| Method | **Spawn**           | Spawns a GameObject into the session at the provided local transform positions. **Important:** There are three spawn operations available depending on use-case. Ensure that your GameObject is registered as a network prefab for proper network instantiation. Additionally, if your object uses network-specific synchronization (e.g., via Network Transform or Network Rigidbody components), make sure those components are attached and correctly configured. ​ |
| Method | **Destroy**         | Destroys a GameObject within the multiplayer session.                                                                                                                                                                                                                                                                                                                                                                                                                  |
| Method | **TrySetParent**    | Attempts to set the parent transform for a given GameObject. Returns `true` if successful; otherwise, returns `false`.                                                                                                                                                                                                                                                                                                                                                 |
| Method | **TryRemoveParent** | Attempts to remove the parent transform from a GameObject. Returns `true` if successful; otherwise, returns `false`.                                                                                                                                                                                                                                                                                                                                                   |
| Method | **IsOwner**         | Checks if the current client is the owner of the specified GameObject. Returns `true` if the client is the owner; otherwise, returns `false`.                                                                                                                                                                                                                                                                                                                          |
| Method | **ChangeOwnership** | Transfers ownership of a GameObject to another player. This method is overloaded to accept either a client ID (`ulong`) or a username (`string`).                                                                                                                                                                                                                                                                                                                      |



### Additional Considerations

* **Global RPC Handling:**\
  The **`OnRpcReceived`** event is triggered globally across the session. Every script subscribing to this event will receive RPC messages. This means if multiple network objects share the same script (for example, multiple instances of a ball), all of them will listen to the RPC. Developers should implement internal logic within each network object to filter and process only the relevant RPC calls.
* **Spawning and Network Components:**\
  The **Spawn** method supports different spawn operations (three variants overall) depending on the context. When spawning objects:
  * Ensure that the object is registered as a **network prefab**.
  * If synchronization of movement or physics is required, attach the **Network Transform** and/or **Network Rigidbody** components to the GameObject. These components facilitate the accurate synchronization of position, rotation, and physics properties across all clients.
